import { ethers } from 'ethers';
import { TestingPriceFeed } from './TestingPriceFeed';
import { AddressLike } from '../..';

export const TestingPriceFeedBytecode =
  '0x60806040526005805461ff001960ff1990911660011716905534801561002457600080fd5b50604051610f76380380610f768339818101604052604081101561004757600080fd5b508051602090910151600080546001600160a01b0319166001600160a01b038416179055610075828261007c565b5050610098565b6001600160a01b03909116600090815260046020526040902055565b610ecf806100a76000396000f3fe608060405234801561001057600080fd5b506004361061014d5760003560e01c806380971a36116100c3578063bfcf04cf1161007c578063bfcf04cf1461071b578063c046371114610723578063cfba99dc1461072b578063d90ec90b1461074f578063e0fe42be14610775578063f06a1e13146107a35761014d565b806380971a36146104a05780638edbf436146105415780638fb5a4821461056757806393da4cfd146106a1578063a159c937146106c7578063b9c35e0a146106f55761014d565b80634c89867f116101155780634c89867f146102c4578063537e571e146102cc578063673b9ba8146103ef578063730d09431461040e5780637e3bfc2f146104405780637e67e5ce146104745761014d565b806305f128cf1461015257806313533b55146101735780631f4b8e41146101ad5780632c10e90c146101c757806341976e0914610285575b600080fd5b6101716004803603602081101561016857600080fd5b503515156107ab565b005b6101996004803603602081101561018957600080fd5b50356001600160a01b03166107c5565b604080519115158252519081900360200190f35b6101b56107f5565b60408051918252519081900360200190f35b610171600480360360408110156101dd57600080fd5b810190602081018135600160201b8111156101f757600080fd5b82018360208201111561020957600080fd5b803590602001918460208302840111600160201b8311171561022a57600080fd5b919390929091602081019035600160201b81111561024757600080fd5b82018360208201111561025957600080fd5b803590602001918460208302840111600160201b8311171561027a57600080fd5b5090925090506107fb565b6102ab6004803603602081101561029b57600080fd5b50356001600160a01b0316610968565b6040805192835260208301919091528051918290030190f35b6101b561098b565b610171600480360360408110156102e257600080fd5b810190602081018135600160201b8111156102fc57600080fd5b82018360208201111561030e57600080fd5b803590602001918460208302840111600160201b8311171561032f57600080fd5b9190808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152509295949360208101935035915050600160201b81111561037e57600080fd5b82018360208201111561039057600080fd5b803590602001918460208302840111600160201b831117156103b157600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610991945050505050565b6101716004803603602081101561040557600080fd5b50351515610a28565b6101b56004803603606081101561042457600080fd5b506001600160a01b038135169060208101359060400135610a3b565b6101b56004803603606081101561045657600080fd5b508035906001600160a01b0360208201358116916040013516610a74565b6101716004803603604081101561048a57600080fd5b506001600160a01b038135169060200135610b13565b610199600480360360208110156104b657600080fd5b810190602081018135600160201b8111156104d057600080fd5b8201836020820111156104e257600080fd5b803590602001918460208302840111600160201b8311171561050357600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610b2f945050505050565b6102ab6004803603602081101561055757600080fd5b50356001600160a01b0316610b77565b6106086004803603602081101561057d57600080fd5b810190602081018135600160201b81111561059757600080fd5b8201836020820111156105a957600080fd5b803590602001918460208302840111600160201b831117156105ca57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610ba5945050505050565b604051808060200180602001838103835285818151815260200191508051906020019060200280838360005b8381101561064c578181015183820152602001610634565b50505050905001838103825284818151815260200191508051906020019060200280838360005b8381101561068b578181015183820152602001610673565b5050505090500194505050505060405180910390f35b6102ab600480360360208110156106b757600080fd5b50356001600160a01b0316610c81565b6102ab600480360360408110156106dd57600080fd5b506001600160a01b0381358116916020013516610cd2565b6102ab6004803603602081101561070b57600080fd5b50356001600160a01b0316610dbd565b6101b5610dd6565b6101b5610ddc565b610733610de2565b604080516001600160a01b039092168252519081900360200190f35b6101b56004803603602081101561076557600080fd5b50356001600160a01b0316610df1565b6101996004803603604081101561078b57600080fd5b506001600160a01b0381358116916020013516610e03565b610733610e27565b600580549115156101000261ff0019909216919091179055565b6000806107d183610968565b50600554909150610100900460ff161580156107ec57508015155b9150505b919050565b60015490565b828114610847576040805162461bcd60e51b8152602060048201526015602482015274105c9c985e481b195b99dd1a1cc81d5b995c5d585b605a1b604482015290519081900360640190fd5b600180548101905560005b838110156108c757604051806040016040528084848481811061087157fe5b905060200201358152602001428152506003600087878581811061089157fe5b602090810292909201356001600160a01b0316835250818101929092526040016000208251815591015160019182015501610852565b50426002819055507f7da05e6be6ad8d48fd00ae7fa6e3ed3d7df8c07da8460294dfaedcfbb617b293848484846040518080602001806020018381038352878782818152602001925060200280828437600083820152601f01601f19169091018481038352858152602090810191508690860280828437600083820152604051601f909101601f19169092018290039850909650505050505050a150505050565b6001600160a01b0316600090815260036020526040902080546001909101549091565b60025490565b80518251146109df576040805162461bcd60e51b8152602060048201526015602482015274105c9c985e481b195b99dd1a1cc81d5b995c5d585b605a1b604482015290519081900360640190fd5b60005b8251811015610a2357610a1b8382815181106109fa57fe5b6020026020010151838381518110610a0e57fe5b6020026020010151610b13565b6001016109e2565b505050565b6005805460ff1916911515919091179055565b6001600160a01b0383166000908152600460205260408120548390610a64908490600a0a610e36565b81610a6b57fe5b04949350505050565b600080610a818484610cd2565b50809150506000846001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b158015610ac157600080fd5b505afa158015610ad5573d6000803e3d6000fd5b505050506040513d6020811015610aeb57600080fd5b505160ff169050600a81900a610b018784610e36565b81610b0857fe5b049695505050505050565b6001600160a01b03909116600090815260046020526040902055565b6000805b8251811015610b6e57610b58838281518110610b4b57fe5b60200260200101516107c5565b610b665760009150506107f0565b600101610b33565b50600192915050565b600080610b8383610968565b506001600160a01b039093166000908152600460205260409020549293915050565b60608060608351604051908082528060200260200182016040528015610bd5578160200160208202803883390190505b50905060608451604051908082528060200260200182016040528015610c05578160200160208202803883390190505b50905060005b8551811015610c7657600080610c33888481518110610c2657fe5b6020026020010151610968565b809250819350505081858481518110610c4857fe5b60200260200101818152505080848481518110610c6157fe5b60209081029190910101525050600101610c0b565b509092509050915091565b6000806000610c8f84610b77565b600080546001600160a01b031681526004602052604090205490935090915081610cc0600a83810a9086900a610e36565b81610cc757fe5b049350915050915091565b6001600160a01b038116600090815260046020526040812054819081610cf7866107c5565b8015610d075750610d07856107c5565b905080610d4d576040805162461bcd60e51b815260206004820152600f60248201526e141c9a58d9481b9bdd081d985b1a59608a1b604482015290519081900360640190fd5b846001600160a01b0316866001600160a01b03161415610d765750600a81900a92509050610db6565b6001600160a01b03808616600090815260036020526040808220549289168252902054610da790600a85900a610e36565b81610dae57fe5b049350909150505b9250929050565b6003602052600090815260409020805460019091015482565b60015481565b60025481565b6000546001600160a01b031690565b60046020526000908152604090205481565b6000610e0e836107c5565b8015610e1e5750610e1e826107c5565b90505b92915050565b6000546001600160a01b031681565b6000811580610e5157505080820282828281610e4e57fe5b04145b610e21576040805162461bcd60e51b815260206004820152601460248201527364732d6d6174682d6d756c2d6f766572666c6f7760601b604482015290519081900360640190fdfea26469706673582212207806767a2942f0f3acd7f82541107bbaeb99a137795d9269603566b16e0cd31f64736f6c63430006010033';

export function deployTestingPriceFeed(
  signer: ethers.Signer,
  _quoteAsset: AddressLike,
  _quoteDecimals: ethers.BigNumber,
) {
  return TestingPriceFeed.deploy(TestingPriceFeedBytecode, signer, _quoteAsset, _quoteDecimals);
}
